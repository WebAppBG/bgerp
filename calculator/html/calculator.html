<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html encoding="UTF-8">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <title>Calculator</title>
      <style type="text/css">
	  BODY  {overflow-x:hidden;overflow-y:hidden;}
         P,TD,BODY {font:10pt Arial,Helvetica,sans-serif; FONT-WEIGHT:normal; margin:0px;padding:0px;}
         INPUT,TEXTAREA,SELECT,RADIO{font:11px Verdana,Arial,Helvetica,sans-serif;COLOR:#003399;FONT-WEIGHT:bold; border:solid 1px; background-color:#FFFFE0}
		 input {font-size:16pt;}
         input[type="button"] {width:90px; border-radius:4px; }
         input[type="button"]:hover {border:solid 1px red;}
         .number {background-color:#FF9;width:90px; height:36px; padding:5px; }
         .func {background-color:#ccF;width:90px; height:36px; padding:5px;}
      </style>
   </head>
   <body>
      <form method="post">
         <table cellpadding="5" style="background-color:#777;" cellspacing="2">
            <tbody>
               <tr>
                  <th><input  style="padding:5px; height:38px; width:470px; border-radius:4px;" /></th>
               </tr>
               <tr>
                  <td>
                     <table width=100% cellspacing=5 border=0>
                        <tbody>
                           <tr>
                              <td width="23%"><input value="   Inv   " onclick="Inv(); return false;" type="button" class="func" /></td>
                              <td width="18%"><input value="    7    " onclick="Add(0,0,'7'); return false;" type="button" class="number" /></td>
                              <td width="18%"><input value="    8    " onclick="Add(0,0,'8'); return false;" type="button" class="number" /></td>
                              <td width="23%"><input value="    9    " onclick="Add(0,0,'9'); return false;" type="button" class="number" /></td>
                              <td width="18%"><input value="    +    " onclick="Fnc(0,0,'+'); return false;" type="button" class="func" /></td>
                           </tr>
                           <tr>
                              <td width="23%"><input value="   sin   " onclick="Spc(0,0,'sin'); return false;" type="button" class="func" /></td>
                              <td width="18%"><input value="    4    " onclick="Add(0,0,'4'); return false;" type="button" class="number" /></td>
                              <td width="18%"><input value="    5    " onclick="Add(0,0,'5'); return false;" type="button" class="number" /></td>
                              <td width="23%"><input value="    6    " onclick="Add(0,0,'6'); return false;" type="button" class="number" /></td>
                              <td width="18%"><input value="    -    " onclick="Fnc(0,0,'-'); return false;" type="button" class="func" /></td>
                           </tr>
                           <tr>
                              <td width="23%"><input value="  cos  " onclick="Spc(0,0,'cos'); return false;" type="button" class="func" /></td>
                              <td width="18%"><input value="    1    " onclick="Add(0,0,'1'); return false;" type="button" class="number" /></td>
                              <td width="18%"><input value="    2    " onclick="Add(0,0,'2'); return false;" type="button" class="number" /></td>
                              <td width="23%"><input value="    3    " onclick="Add(0,0,'3'); return false;" type="button" class="number" /></td>
                              <td width="18%"><input value="    *    " onclick="Fnc(0,0,'*'); return false;" type="button" class="func" /></td>
                           </tr>
                           <tr>
                              <td width="23%"><input value="   tan  " onclick="Spc(0,0,'tan'); return false;" type="button" class="func" /></td>
                              <td width="18%"><input value="    0    " onclick="Add(0,0,'0'); return false;" type="button" class="number" /></td>
                              <td width="18%"><input value="    .     " onclick="Pnt(0,0); return false;" type="button" class="number" /></td>
                              <td width="23%"><input value="   +/-  " onclick="Chs(0,0); return false;" type="button" class="number" /></td>
                              <td width="18%"><input value="    /    " onclick="Fnc(0,0,'/'); return false;" type="button" class="func" /></td>
                           </tr>
                           <tr>
                              <td width="23%"><input value="   1/x  " onclick="Spc(0,0,'inv'); return false;" type="button" class="func" /></td>
                              <td width="18%"><input value=" sqrt  " onclick="Spc(0,0,'sqrt'); return false;" type="button" class="func" /></td>
                              <td width="18%"><input value="    (     " onclick="Par(0,0,'('); return false;" type="button" class="func" /></td>
                              <td width="23%"><input value="     )    " onclick="Par(0,0,')'); return false;" type="button" class="func" /></td>
                              <td width="18%"><input value="   =    " onclick="Res(0,0); return false;" type="button" class="func" style="background-color:#99F;" /></td>
                           </tr>
                           <tr>
                              <td width="23%"><input value="   ln    " onclick="Spc(0,0,'ln'); return false;" type="button" class="func" /></td>
                              <td width="18%"><input value="  x^2  " onclick="Spc(0,0,'pow2'); return false;" type="button" class="func" /></td>
                              <td width="18%"><input value="   Pi    " onclick="Add(0,0,'PI'); return false;" type="button" class="func" /></td>
                              <td width="23%"><input value="    C   " onclick="Clr(0,0); return false;" type="button" class="func" /></td>
                              <td width="18%"><input value="   &lt;-   " onclick="Bck(0,0); return false;" type="button" class="func" /></td>
                           </tr>
                        </tbody>
                     </table>
                  </td>
               </tr>
            </tbody>
         </table>
      </form>
      <script language="JavaScript">
         <!--
			window.focus();
            var Text = "Calculator programmed in Java Script";
            var Speed = 150;
            var Width = 64;
            var TextLength = Text.length;
            var Pos = 1 - Width + TextLength;

            function TextMarquee() {
                Pos++;
                var TextOut = "";
                if (Pos == TextLength) Pos = 1 - Width;
                if (Pos < 0) {
                    for (var i = 1; i <= Math.abs(Pos); i++)
                    TextOut = TextOut + " ";
                    TextOut = TextOut + Text.substring(0, Width - i + 1);
                } else TextOut = TextOut + Text.substring(Pos, Width + Pos);
                window.status = TextOut;
                window.setTimeout("TextMarquee()", Speed);
            }
			
			// Флагоре
            var fact = Math.PI / 180.0; // Константа Пи
            var inv = 0;   // 1 ако е избрана инверсната функция
            var flag = 0;  // 0 ако е натиснато "=" 
            var flag2 = 0; // 1 ако са натиснати "+", "-", "*" или "/"
            var popen = 0; // 0 ако не е отворена скоба no "("
            var point = 0; // 1 ако е натиснато "."


            /**
             * Изчистване на екрана
             */
            function Clr(Fi, Ei) {
                flag2 = 0;
                popen = 0;
                point = 0;
                document.forms[Fi].elements[Ei].value = "";
            }


            function Res(Fi, Ei) {
                if ((flag2 == 0) && (popen == 0)) {
                    var x = eval(document.forms[Fi].elements[Ei].value);
                    document.forms[Fi].elements[Ei].value = x;
                    flag = 0;
                    point = 0;
                }

            }


            function Add(Fi, Ei, n) {
                var st = document.forms[Fi].elements[Ei].value;
                var len = st.length;

                if (st.charAt(len - 1) == ")") return;

                if (n == "PI") {
                    if ((len > 0) && (flag2 == 0)) return;
                    var x = Math.PI;
                    n = x;
                }

                if (flag == 0) document.forms[Fi].elements[Ei].value = "";

                document.forms[Fi].elements[Ei].value = document.forms[Fi].elements[Ei].value + n;
                flag = 1;
                flag2 = 0;
            }


            function Par(Fi, Ei, n) {
                var st = document.forms[Fi].elements[Ei].value;
                var len = st.length;

                if ((n == "(")) {
                    if (st.charAt(len - 1) == ")") return;
                    else if (st.charAt(len - 1) == "(") popen++;
                    else {
                        if ((len > 0) && (flag2 == 0)) return;
                        else popen++;
                    }
                } else if ((n == ")") && (popen > 0)) {
                    if (st.charAt(len - 1) == "(") return;
                    else popen--;
                } else return;

                document.forms[Fi].elements[Ei].value = document.forms[Fi].elements[Ei].value + n;
                flag = 1;
                point = 0;
            }


            function Bck(Fi, Ei) {
                var st = document.forms[Fi].elements[Ei].value;
                var len = st.length;
                if (len > 0) {
                    if (st.charAt(len - 1) == ".") point = 0;

                    if (st.charAt(len - 1) == "+") flag2 = 0;
                    if (st.charAt(len - 1) == "-") flag2 = 0;
                    if (st.charAt(len - 1) == "*") flag2 = 0;
                    if (st.charAt(len - 1) == "/") flag2 = 0;

                    if (st.charAt(len - 1) == ")") popen++;
                    if (st.charAt(len - 1) == "(") popen--;

                    document.forms[Fi].elements[Ei].value = st.substring(0, len - 1);
                    flag = 1;
                }
            }


            function Pnt(Fi, Ei) {
                if ((flag2 == 0) && (point == 0)) {
                    flag2 = 1;
                    flag = 1;
                    point = 1;
                    document.forms[Fi].elements[Ei].value = document.forms[Fi].elements[Ei].value + ".";
                }
            }


            function Fnc(Fi, Ei, n) {
                var st = document.forms[Fi].elements[Ei].value;
                var len = st.length;
                if (st.charAt(len - 1) == "(") return;

                if (flag2 == 0) {
                    flag2 = 1;
                    flag = 1;
                    point = 0;
                    document.forms[Fi].elements[Ei].value = document.forms[Fi].elements[Ei].value + n;
                }
            }


            function Inv() {
                inv = 1;
            }


            function Chs(Fi, Ei) {
                var st = document.forms[Fi].elements[Ei].value;
                var len = st.length;
                if (st.charAt(0) == "-") st = st.substring(1, len);
                else st = "-" + st;
                document.forms[Fi].elements[Ei].value = st;
                flag = 1;
            }

            function Spc(Fi, Ei, f) {
                if ((flag2 == 0) && (popen == 0)) {
                    var y = 0.0;
                    var st = document.forms[Fi].elements[Ei].value;
                    if (st.length == 0) x = 0;
                    else x = eval(st);

                    if (f == "sqrt") {
                        if (inv == 0) y = (x > 0) ? Math.sqrt(x) : "";
                        else y = x * x;
                    }
                    if (f == "pow2") {
                        if (inv == 1) y = (x > 0) ? Math.sqrt(x) : "";
                        else y = x * x;
                    }
                    if (f == "exp") {
                        if (inv == 1) y = (x > 0) ? Math.log(x) : "";
                        else y = Math.exp(x);
                    }

                    if (f == "ln") {
                        if (inv == 0) y = (x > 0) ? Math.log(x) : "";
                        else y = Math.exp(x);
                    }
                    if (f == "sin") {
                        if (inv == 0) y = Math.sin(x * fact);
                        else y = 1. / fact * Math.asin(x);
                    }
                    if (f == "cos") {
                        if (inv == 0) y = Math.cos(x * fact);
                        else y = 1. / fact * Math.acos(x);
                    }
                    if (f == "tan") {
                        if (inv == 0) y = Math.tan(x * fact);
                        else y = 1. / fact * Math.atan(x);
                    }
                    if (f == "inv") {
                        y = (inv == 0) ? 1 / x : x;
                    }
                    document.forms[Fi].elements[Ei].value = y;
                    inv = 0;
                    point = 0;
                }
            }
	  //-->
      </script>
   </body>
</html>